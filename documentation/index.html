<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/wolang/ > <link href=global.css rel=stylesheet> <link href=prism.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <script>__SAPPER__={baseUrl:"/wolang",preloaded:[void 0,{markdown:"# Documentation\n\n## Introduction\n\nThe primary goal of the Wolang project is to formalize a specification for the language. To support that, a wolang parser for Node.js\u002Fjavascript is also provided. This project is still in the early stages of development, so the feature set of the parser is still quite limited. Development will first be focused on extending the wolang language and then focus will shift to improving the parser to allow support for linting, formatting and custom extensions.\n\n## Getting Started\n\nThe Wolang parser can be installed with npm.\n\n```bash\nnpm install @jamincan\u002Fwolang\n```\n\nThe following code demonstrates how you can import and use the parser.\n\n```javascript\nvar parser = require('@jamincan\u002Fwolang');\n\nvar workout = parser.parse('2 min @250W');\n\n\u002F* workout = [\n    {\n        type: 'Interval',\n        duration: 120,\n        intensity: {\n            type: 'Power',\n            value: 250,\n        },\n    },\n]\n*\u002F\n```\n\n## Abstract Syntax Tree\n\nThe parser outputs an abstract syntax tree which a compiler could then use to generate a workout in another useable format, or which a program could interpret directly.\n\nThere are four main components of the AST: Intensities, Intervals, Blocks, and Sets.\n\n### Intensity\n\nThere are a number of ways that the intensity of an interval might be described. In cycling, it is common to use power or percent of FTP, but other indicators might be used as well in certain contexts such as heart rate, speed, elevation gain and so on. Currently the wolang specification only supports power and percent of FTP. The AST expresses this simply as an Intensity object as shown below. Power is always in Watts, and PercentFTP is always as a decimal percentage.\n\n```javascript\n{\n    type: 'Power',\n    value: 250,  \u002F\u002F In Watts\n}\n\n{\n    type: 'PercentFTP',\n    value: 0.95,\n}\n```\n\n### Interval\n\nAn interval is the basic component of a workout consisting of an intensity for a given duration. It may also include an annotation that provides additional instruction or context for the interval such as 'max effort', or 'cooldown'. The duration is always in seconds and the intensity is an Intensity object.\n\n```javascript\n{\n    type: 'Interval',\n    duration: 120,\n    intensity: { type: 'Power', ... }, \u002F\u002F Could also be type: 'PercentFTP'\n    annotation: \"cooldown\",            \u002F\u002F Optional\n}\n```\n\n### Block\n\nA block is simply a list of intervals or sets. The parser always returns a Block as its base type. A block is expressed as a javascript Array containing the Interval or Set objects.\n\n### Set\n\nA set is a repeating block of intervals or sets.\n\n```javascript\n{\n    type: 'Set',\n    repeat: 2,\n    sets: [\n        { type: 'Interval', ... },\n        { type: 'Set', ... },\n        ...\n    ]\n}\n```\n\n### Full Example\n\nParser Input:\n\n```wolang\n10min @50% \"warmup\"\n3x\n  1 min @ 280W\n  30s @ 170W\n  1 min @ 300W\n  30s @ 150W\n2 min @ 170W\n2x 5 min @ 250W, 2 min @ 180W\n10min @ 50% \"cooldown\"\n```\n\nParser Output:\n\n```javascript\n[\n  {\n    type: 'Interval',\n    duration: 600,\n    intensity: {\n      type: 'percentFTP',\n      value: 0.5,\n    },\n    annotation: 'warmup',\n  },\n  {\n    type: 'Set',\n    repeat: 3,\n    sets: [\n      {\n        type: 'Interval',\n        duration: 60,\n        intensity: {\n          type: 'Power',\n          value: 280,\n        },\n      },\n      {\n        type: 'Interval',\n        duration: 30,\n        intensity: {\n          type: 'Power',\n          value: 170,\n        },\n      },\n      {\n        type: 'Interval',\n        duration: 60,\n        intensity: {\n          type: 'Power',\n          value: 300,\n        },\n      },\n      {\n        type: 'Interval',\n        duration: 30,\n        intensity: {\n          type: 'Power',\n          value: 150,\n        },\n      },\n    ],\n  },\n  {\n    type: 'Interval',\n    duration: 120,\n    intensity: {\n      type: 'Power',\n      value: 170,\n    },\n  },\n  {\n    type: 'Set',\n    repeat: 2,\n    sets: [\n      {\n        type: 'Interval',\n        duration: 300,\n        intensity: {\n          type: 'Power',\n          value: 250,\n        },\n      },\n      {\n        type: 'Interval',\n        duration: 120,\n        intensity: {\n          type: 'Power',\n          value: 180,\n        },\n      },\n    ],\n  },\n  {\n    type: 'Interval',\n    duration: 600,\n    intensity: {\n      type: 'percentFTP',\n      value: 0.5,\n    },\n    annotation: 'cooldown',\n  },\n];\n```\n"}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/wolang/service-worker.js');(function(){try{eval("async function x(){}");var main="/wolang/client/client.9b81447a.js"}catch(e){main="/wolang/client/legacy/client.fc6b969f.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/wolang/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-266e5d2b.css rel=stylesheet> <title>Wolang - Documentation</title> <link href=/wolang/client/client.9b81447a.js rel=modulepreload as=script crossorigin=use-credentials><link href=/wolang/client/client-266e5d2b.css rel=preload as=style><link href=/wolang/client/documentation.b0b623f4.js rel=modulepreload as=script crossorigin=use-credentials><link href=/wolang/client/_commonjsHelpers.91583ccb.js rel=modulepreload as=script crossorigin=use-credentials><link href=/wolang/client/Markdown.1669b747.js rel=modulepreload as=script crossorigin=use-credentials><link href=/wolang/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials></head> <body> <div id=sapper> <nav class=svelte-sci1iz><div class=svelte-sci1iz><h1 class=svelte-sci1iz><strong class=svelte-sci1iz>wo</strong>lang</h1> <ul class=svelte-sci1iz><li class=svelte-sci1iz><a class=svelte-sci1iz href=.>Main</a></li> <li class=svelte-sci1iz><a class=svelte-sci1iz href=documentation aria-current=page>Documentation</a></li> <li class=svelte-sci1iz><a class=svelte-sci1iz href=specification>Specification</a></li> <li class=svelte-sci1iz><a class=svelte-sci1iz href=demo>Demo</a></ul></div></nav> <main class=svelte-2ra37r> <section><h1 id=documentation>Documentation</h1> <h2 id=introduction>Introduction</h2> <p>The primary goal of the Wolang project is to formalize a specification for the language. To support that, a wolang parser for Node.js/javascript is also provided. This project is still in the early stages of development, so the feature set of the parser is still quite limited. Development will first be focused on extending the wolang language and then focus will shift to improving the parser to allow support for linting, formatting and custom extensions.</p> <h2 id=getting-started>Getting Started</h2> <p>The Wolang parser can be installed with npm.</p> <pre><code class=language-bash>npm install @jamincan/wolang</code></pre> <p>The following code demonstrates how you can import and use the parser.</p> <pre><code class=language-javascript>var parser = require('@jamincan/wolang');

var workout = parser.parse('2 min @250W');

/* workout = [
    {
        type: 'Interval',
        duration: 120,
        intensity: {
            type: 'Power',
            value: 250,
        },
    },
]
*/</code></pre> <h2 id=abstract-syntax-tree>Abstract Syntax Tree</h2> <p>The parser outputs an abstract syntax tree which a compiler could then use to generate a workout in another useable format, or which a program could interpret directly.</p> <p>There are four main components of the AST: Intensities, Intervals, Blocks, and Sets.</p> <h3 id=intensity>Intensity</h3> <p>There are a number of ways that the intensity of an interval might be described. In cycling, it is common to use power or percent of FTP, but other indicators might be used as well in certain contexts such as heart rate, speed, elevation gain and so on. Currently the wolang specification only supports power and percent of FTP. The AST expresses this simply as an Intensity object as shown below. Power is always in Watts, and PercentFTP is always as a decimal percentage.</p> <pre><code class=language-javascript>{
    type: 'Power',
    value: 250,  // In Watts
}

{
    type: 'PercentFTP',
    value: 0.95,
}</code></pre> <h3 id=interval>Interval</h3> <p>An interval is the basic component of a workout consisting of an intensity for a given duration. It may also include an annotation that provides additional instruction or context for the interval such as 'max effort', or 'cooldown'. The duration is always in seconds and the intensity is an Intensity object.</p> <pre><code class=language-javascript>{
    type: 'Interval',
    duration: 120,
    intensity: { type: 'Power', ... }, // Could also be type: 'PercentFTP'
    annotation: "cooldown",            // Optional
}</code></pre> <h3 id=block>Block</h3> <p>A block is simply a list of intervals or sets. The parser always returns a Block as its base type. A block is expressed as a javascript Array containing the Interval or Set objects.</p> <h3 id=set>Set</h3> <p>A set is a repeating block of intervals or sets.</p> <pre><code class=language-javascript>{
    type: 'Set',
    repeat: 2,
    sets: [
        { type: 'Interval', ... },
        { type: 'Set', ... },
        ...
    ]
}</code></pre> <h3 id=full-example>Full Example</h3> <p>Parser Input:</p> <pre><code class=language-wolang>10min @50% "warmup"
3x
  1 min @ 280W
  30s @ 170W
  1 min @ 300W
  30s @ 150W
2 min @ 170W
2x 5 min @ 250W, 2 min @ 180W
10min @ 50% "cooldown"</code></pre> <p>Parser Output:</p> <pre><code class=language-javascript>[
  {
    type: 'Interval',
    duration: 600,
    intensity: {
      type: 'percentFTP',
      value: 0.5,
    },
    annotation: 'warmup',
  },
  {
    type: 'Set',
    repeat: 3,
    sets: [
      {
        type: 'Interval',
        duration: 60,
        intensity: {
          type: 'Power',
          value: 280,
        },
      },
      {
        type: 'Interval',
        duration: 30,
        intensity: {
          type: 'Power',
          value: 170,
        },
      },
      {
        type: 'Interval',
        duration: 60,
        intensity: {
          type: 'Power',
          value: 300,
        },
      },
      {
        type: 'Interval',
        duration: 30,
        intensity: {
          type: 'Power',
          value: 150,
        },
      },
    ],
  },
  {
    type: 'Interval',
    duration: 120,
    intensity: {
      type: 'Power',
      value: 170,
    },
  },
  {
    type: 'Set',
    repeat: 2,
    sets: [
      {
        type: 'Interval',
        duration: 300,
        intensity: {
          type: 'Power',
          value: 250,
        },
      },
      {
        type: 'Interval',
        duration: 120,
        intensity: {
          type: 'Power',
          value: 180,
        },
      },
    ],
  },
  {
    type: 'Interval',
    duration: 600,
    intensity: {
      type: 'percentFTP',
      value: 0.5,
    },
    annotation: 'cooldown',
  },
];</code></pre> </section></main></div> 